<style>
.plot-container {
  position: relative;
  display: inline-block;
}

.fullscreen-btn {
  position: absolute;
  bottom: 10px;
  right: 10px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 5px 10px;
  cursor: pointer;
  font-size: 12px;
  z-index: 10;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.fullscreen-btn:hover {
  background: white;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Add buttons to all lightbox images
  document.querySelectorAll('img[data-gallery], figure img').forEach(function(img) {
    if (!img.parentElement.classList.contains('plot-container')) {
      const container = document.createElement('div');
      container.className = 'plot-container';
      img.parentNode.insertBefore(container, img);
      container.appendChild(img);

      const btn = document.createElement('button');
      btn.className = 'fullscreen-btn';
      btn.innerHTML = 'â›¶ Expand';
      btn.onclick = function() { img.click(); };
      container.appendChild(btn);
    }
  });
});
</script>
